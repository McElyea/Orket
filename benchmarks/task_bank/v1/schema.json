{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Orket Benchmark Task Bank",
  "type": "array",
  "minItems": 1,
  "items": {
    "type": "object",
    "required": [
      "id",
      "tier",
      "description",
      "acceptance_contract"
    ],
    "additionalProperties": false,
    "properties": {
      "id": {
        "type": "string",
        "pattern": "^[0-9]{3}$"
      },
      "tier": {
        "type": "integer",
        "minimum": 1,
        "maximum": 6
      },
      "description": {
        "type": "string",
        "minLength": 8
      },
      "acceptance_contract": {
        "type": "object",
        "required": [
          "mode",
          "required_artifacts",
          "pass_conditions",
          "determinism_profile"
        ],
        "additionalProperties": false,
        "properties": {
          "mode": {
            "type": "string",
            "enum": [
              "function",
              "module",
              "service",
              "system"
            ]
          },
          "required_artifacts": {
            "type": "array",
            "items": {
              "type": "string",
              "minLength": 1
            }
          },
          "pass_conditions": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "string",
              "minLength": 1
            }
          },
          "determinism_profile": {
            "type": "string",
            "enum": [
              "strict",
              "bounded",
              "convergence"
            ]
          },
          "convergence_metrics": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "attempts_to_pass": {
                "type": "string",
                "minLength": 1
              },
              "drift_rate": {
                "type": "string",
                "minLength": 1
              }
            },
            "required": [
              "attempts_to_pass",
              "drift_rate"
            ]
          }
        }
      },
      "instruction": {
        "type": "string",
        "minLength": 1
      }
    }
  }
}
